.\" Automatically generated by Pod::Man 2.28 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "E4RAT-COLLECT 8"
.TH E4RAT-COLLECT 8 "2012-05-03" "e4rat 0.2.3" "User Manuals"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
e4rat\-collect \- Generate a list of relevant files by monitoring applications
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBe4rat\-collect\fR  \fB[\fR option(s) \fB]\fR  \fB[\fR application name(s) \fB]\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
e4rat\-collect listens to the Linux audit socket to monitor filesystem activities and generates a list of relevant files retaining their access order. 
Temporary files or files opened with write access, like log-files, are excluded automatically.
.PP
You can either monitor applications or the entire operating system. If an \fIapplication name\fR is supplied, the processes to monitor are selected according to their process name, which is usually the name of the running executable and shown by the \fIps\fR\|(1) command. Paths are removed from the process names. The application you specify are just monitored and does not get executed. To execute a command see \fI\-\-execute\fR.
.PP
In addition, the collector follows child processes, which allows to monitor shell scripts correctly.
.PP
To stop scanning process press STR-C or run `e4rat\-collect \-\-stop'. Unless otherwise stated, the generated file list is written to './e4rat\-collect.log'.
.SH "OPTIONS"
.IX Header "OPTIONS"
Some options require a path to a file, directory or device. Feel free to use relative paths and or paths containing wildcard characters like '*' or '?'.
.IP "\-V \-\-version" 4
.IX Item "-V --version"
show version information and exit.
.IP "\-h \-\-help" 4
.IX Item "-h --help"
display usage message and exit.
.IP "\-v \-\-verbose" 4
.IX Item "-v --verbose"
increment verbosity level.
.IP "\-q \-\-quiet" 4
.IX Item "-q --quiet"
set verbose level to 0. This means that no messages will be displayed.
.IP "\-l \-\-loglevel <number>" 4
.IX Item "-l --loglevel <number>"
set loglevel mask to <number>. All log messages are sent either to the Kernel log (see \fIdmesg\fR\|(1)) or to \fIsyslog\fR\|(3).
.IP "\-k \-\-stop" 4
.IX Item "-k --stop"
kill already running e4rat\-collect process
.IP "\-x \-\-execute <command>" 4
.IX Item "-x --execute <command>"
collect while executing command. e4rat\-collect stops running after <command> terminates. Be aware that <command> gets executed with root privileges if no username is specified. See \-\-user.
.IP "\-u \-\-user <username>" 4
.IX Item "-u --user <username>"
specify username the command gets executed. See \-\-execute.
.IP "\-o \-\-output [file]" 4
.IX Item "-o --output [file]"
set the output file in which the generated file list is written to. If no path is specified, the list is written to stdout.
.IP "\-d \-\-device         <dev>" 4
.IX Item "-d --device <dev>"
.PD 0
.IP "\-D \-\-exclude\-device <dev>" 4
.IX Item "-D --exclude-device <dev>"
.PD
limit monitoring to a special device. <dev> is a path to device normally in /dev.
[example: /dev/sda1]
.IP "\-p \-\-path         <path>" 4
.IX Item "-p --path <path>"
.PD 0
.IP "\-P \-\-exclude\-path <path>" 4
.IX Item "-P --exclude-path <path>"
.PD
limit monitoring to a special path.
[example: '*/bin/*']
.IP "\-L \-\-exclude\-list <file>" 4
.IX Item "-L --exclude-list <file>"
The <file> contains a list of files, which e4rat\-collect should exclude.
.IP "\-e \-\-watch\-ext4 [true|false]" 4
.IX Item "-e --watch-ext4 [true|false]"
select whether e4rat\-collect is limited to devices formatted with the ext4 filesystem.
[Default: true]
.IP "\-O \-\-exclude\-of [true|false]" 4
.IX Item "-O --exclude-of [true|false]"
select true or false whether e4rat\-collect should ignore already opened files before start monitoring.
[Default: true]
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.SS "Scan Thunderbird and a locally running Imap daemon"
.IX Subsection "Scan Thunderbird and a locally running Imap daemon"
Run collector as root:
.IX Subsection "Run collector as root:"
.PP
.Vb 1
\&    ~# sudo e4rat\-collect thunderbird imapd
.Ve
.PP
Once collector is running execute thunderbird as a normal user:
.IX Subsection "Once collector is running execute thunderbird as a normal user:"
.PP
.Vb 1
\&    ~# thunderbird
.Ve
.PP
Alternatively combine it to one call
.IX Subsection "Alternatively combine it to one call"
.PP
.Vb 1
\&    ~# sudo e4rat\-collect thunderbird imapd \-\-execute \*(Aqthunderbird\*(Aq \-\-user \`whoami\`
.Ve
.SS "Scan boot process:"
.IX Subsection "Scan boot process:"
Run e4rat\-collect as early as possible to scan the whole startup process. It is recommended to run e4rat\-collect as init process. To do so, add the following lines to the Kernel parameters in \fIgrub\fR\|(8) or \fIlilo\fR\|(8).
  init=/sbin/e4rat\-collect
.SH "FILES"
.IX Header "FILES"
\&\fI/etc/e4rat.conf\fR
     E4rat configuration file.
.SH "AUTHOR"
.IX Header "AUTHOR"
Written by Andreas Rid and Gundolf Kiefer.
.SH "REPORTING BUGS"
.IX Header "REPORTING BUGS"
Report bugs to Andreas Rid <conso at users.sf.net>.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIe4rat\-realloc\fR\|(8), \fIe4rat\-preload\fR\|(8), \fIe4rat.conf\fR\|(8)
